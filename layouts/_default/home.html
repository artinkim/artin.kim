{{ define "main" }}
<div class="home-container animate">
    <!-- Title Section at Top -->
    <div class="title-section">
        <h1 class="primary-anim">{{ site.Title }}</h1>
        {{ with site.Menus.main }}
        <nav class="menu inline animate">
            {{ range . }}
            <div class="menu-item">
                <a class="inactive {{ .Name }}" href="{{ .URL }}">{{ .Name }}</a>
            </div>
            {{ end }}
        </nav>
        {{ end }}
    </div>

    <!-- Two Column Layout Below -->
    <div class="two-column-layout">
        <!-- Image moved outside and before the sections, positioned absolutely -->
        <img src="/img/artin_headshot.jpg" alt="Profile picture" class="profile-image-absolute">

        <!-- About Me Section -->
        <section class="about-section">
            <h2>About Me</h2>
            <p>
            I'm a software engineer and researcher interested in computer graphics,
            programming languages, and systems. I'm currently working on real-time
            rendering techniques and compiler optimizations. In my free time, I enjoy
            contributing to open source projects.
            </p>
        </section>
        
        <!-- Highlights Section -->
        <section class="highlights-section">
            <h2>Highlights</h2>
            <div class="highlights-grid">
                <!-- Projects Highlight -->
                <div class="highlight-card">
                    <div>
                        <h3>Project: Real-Time Ray Tracer</h3>
                        <p>An ongoing project exploring real-time path tracing techniques using the Vulkan API and GLSL compute shaders.</p>
                    </div>
                    <a href="/projects/real-time-ray-tracer/" class="highlight-link">View Project →</a>
                </div>
                
                <!-- Highlighted Blog Post -->
                <div class="highlight-card">
                    <div>
                        <h3>Blog: Optimizing Shader Performance</h3>
                        <p>A deep dive into common pitfalls and effective strategies for writing high-performance GLSL shaders for modern GPUs.</p>
                    </div>
                    <a href="/blog/optimizing-shader-performance/" class="highlight-link">Read Post →</a>
                </div>
                
                <!-- Highlighted Publication -->
                <div class="highlight-card">
                    <div>
                        <h3>Publication: Novel GI Technique</h3>
                        <p>Details on a new method for approximating global illumination in dynamic scenes, published in ACM Transactions on Graphics.</p>
                    </div>
                    <a href="/publications/novel-gi-technique/" class="highlight-link">See Publication →</a>
                </div>
                
                <!-- Highlighted Video -->
                <div class="highlight-card">
                    <div>
                        <h3>Video: Intro to Compute Shaders</h3>
                        <p>A beginner-friendly tutorial explaining the fundamentals of GPU compute shaders and how to leverage them for general-purpose tasks.</p>
                    </div>
                    <a href="/videos/intro-to-compute-shaders/" class="highlight-link">Watch Video →</a>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Updated selector to use the new class
    const profileImg = document.querySelector('.profile-image-absolute');

    if (profileImg) { // Add a check to ensure the element exists
        profileImg.addEventListener('click', function() {
          // Restore the modal creation code:
          const modal = document.createElement('div');
          modal.style.position = 'fixed';
          modal.style.top = '0';
          modal.style.left = '0';
          modal.style.width = '100%';
          modal.style.height = '100%';
          modal.style.backgroundColor = 'rgba(0,0,0,0.8)';
          modal.style.display = 'flex';
          modal.style.justifyContent = 'center';
          modal.style.alignItems = 'center';
          modal.style.zIndex = '1000';
          modal.style.cursor = 'pointer'; // Add pointer cursor to modal background

          // Create the large image inside the modal
          const largeImg = document.createElement('img');
          // Set the source to the FULL image
          largeImg.src = '/img/artin_headshot_full.jpg';
          largeImg.style.maxHeight = '90vh'; // Allow slightly larger height
          largeImg.style.maxWidth = '90vw';  // Allow slightly larger width
          largeImg.style.borderRadius = '0.5rem';
          largeImg.style.cursor = 'default'; // Keep default cursor for image itself

          // Prevent clicks on the image itself from closing the modal
          largeImg.addEventListener('click', function(event) {
            event.stopPropagation();
          });

          // Close modal when clicking the background (the modal div)
          modal.addEventListener('click', function() {
            document.body.removeChild(modal);
          });

          modal.appendChild(largeImg);
          document.body.appendChild(modal);
        });
    }
  });
</script>
{{ end }}